<div class="dashboard-container">
    <div class="container">
        <!-- Welcome Section -->
        <div class="welcome-section mb-4">
            <div class="welcome-card">
                <div class="welcome-content">
                    <h1 class="welcome-title">
                        <i class="fas fa-tachometer-alt text-primary me-3"></i>
                        Welcome to Inventory Pro
                    </h1>
                    <p class="welcome-subtitle">
                        Manage your computer lab inventory efficiently and effectively
                    </p>
                    <div class="welcome-stats">
                        <div class="stat-item">
                            <i class="fas fa-boxes text-primary"></i>
                            <span>{{stats?.totalItems || 0}} Items</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-desktop text-success"></i>
                            <span>{{stats?.totalPCs || 0}} PCs</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-users text-info"></i>
                            <span>{{stats?.totalUsers || 0}} Users</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="quick-stats-section mb-4">
            <div class="row">
                <div class="col-md-3 col-sm-6 mb-3" *ngFor="let stat of quickStats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i [class]="stat.icon"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number">{{stat.value}}</div>
                            <div class="stat-label">{{stat.label}}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary Metrics -->
        <div class="summary-metrics-section mb-4">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="metric-card">
                        <div class="metric-header">
                            <h5><i class="fas fa-chart-pie text-primary me-2"></i> Stock Overview</h5>
                        </div>
                        <div class="metric-content">
                            <div class="metric-item">
                                <span class="metric-label">Total Stock:</span>
                                <span class="metric-value">{{stats?.totalStock || 0}}</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">In Use:</span>
                                <span class="metric-value">{{stats?.inUse || 0}}</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Available:</span>
                                <span class="metric-value">{{stats?.available || 0}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="metric-card">
                        <div class="metric-header">
                            <h5><i class="fas fa-exclamation-triangle text-warning me-2"></i> Alerts</h5>
                        </div>
                        <div class="metric-content">
                            <div class="metric-item">
                                <span class="metric-label">Low Stock Items:</span>
                                <span class="metric-value text-warning">{{stats?.lowStock || 0}}</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Out of Stock:</span>
                                <span class="metric-value text-danger">{{stats?.outOfStock || 0}}</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Pending Requests:</span>
                                <span class="metric-value text-info">{{stats?.pendingRequests || 0}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Section -->
        <div class="analytics-section mb-4">
            <div class="row">
                <div class="col-md-8 mb-3">
                    <div class="analytics-card">
                        <div class="analytics-header">
                            <h5><i class="fas fa-chart-line text-primary me-2"></i> Recent Activity</h5>
                        </div>
                        <div class="analytics-content">
                            <div class="activity-list">
                                <div class="activity-item" *ngFor="let activity of recentActivity">
                                    <div class="activity-icon">
                                        <i [class]="activity.icon"></i>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-message">{{activity.message}}</div>
                                        <div class="activity-time">{{activity.timestamp | date:'medium'}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="analytics-card">
                        <div class="analytics-header">
                            <h5><i class="fas fa-clock text-info me-2"></i> Quick Actions</h5>
                        </div>
                        <div class="analytics-content">
                            <div class="quick-actions">
                                <button class="btn btn-primary btn-sm mb-2 w-100" routerLink="/add">
                                    <i class="fas fa-plus me-2"></i>Add Item
                                </button>
                                <button class="btn btn-outline-primary btn-sm mb-2 w-100" routerLink="/stocks">
                                    <i class="fas fa-boxes me-2"></i>View Stock
                                </button>
                                <button class="btn btn-outline-success btn-sm mb-2 w-100" routerLink="/pc">
                                    <i class="fas fa-desktop me-2"></i>PC Management
                                </button>
                                <button class="btn btn-outline-info btn-sm w-100" routerLink="/reports">
                                    <i class="fas fa-chart-bar me-2"></i>Generate Report
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Permissions Section -->
        <div class="permissions-section mb-4" *ngIf="account">
            <div class="permissions-card">
                <div class="permissions-header">
                    <h5><i class="fas fa-user-shield text-success me-2"></i> Your Permissions</h5>
                </div>
                <div class="permissions-content">
                    <div class="permission-item">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <span>Role: {{account.role}}</span>
                    </div>
                    <div class="permission-item" *ngIf="hasRole([Role.SuperAdmin, Role.Admin])">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <span>Can manage inventory</span>
                    </div>
                    <div class="permission-item" *ngIf="hasRole([Role.SuperAdmin, Role.Admin])">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <span>Can add/edit items</span>
                    </div>
                    <div class="permission-item" *ngIf="hasRole([Role.SuperAdmin])">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <span>Can manage users</span>
                    </div>
                    <div class="permission-item" *ngIf="hasRole([Role.SuperAdmin])">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <span>Can view all reports</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions-section">
            <div class="row">
                <div class="col-md-3 col-sm-6 mb-3" *ngFor="let action of quickActions">
                    <div class="action-card" [routerLink]="action.route">
                        <div class="action-icon">
                            <i [class]="action.icon"></i>
                        </div>
                        <div class="action-content">
                            <h6>{{action.title}}</h6>
                            <p>{{action.description}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>