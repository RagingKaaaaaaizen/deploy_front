<div class="bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden">
    <div class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-4 py-3">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold mb-1">Account Management</h1>
                <p class="text-white/80 text-sm">Manage all user accounts</p>
            </div>
            <a routerLink="add" class="inline-flex items-center justify-center rounded-md px-3 py-2 font-semibold transition bg-white/20 hover:bg-white/30 text-white text-sm">
                <i class="fas fa-plus mr-1"></i> Create Account
            </a>
        </div>
    </div>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Login</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr *ngFor="let account of accounts" class="hover:bg-gray-50 transition">
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">{{account.title}} {{account.firstName}} {{account.lastName}}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">{{account.email}}</td>
                    <td class="px-4 py-3 whitespace-nowrap">
                        <span class="inline-flex items-center rounded-md px-2 py-0.5 text-xs font-medium" 
                              [class.bg-green-100]="account.status === 'Active'" 
                              [class.text-green-800]="account.status === 'Active'"
                              [class.bg-red-100]="account.status !== 'Active'" 
                              [class.text-red-800]="account.status !== 'Active'">
                            {{ account.status }}
                        </span>
                    </td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">{{account.role}}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-xs text-gray-500">
                        <span *ngIf="account.lastLogin; else neverLoggedIn">
                            {{ account.lastLogin | date:'MMM dd, yyyy HH:mm' }}
                        </span>
                        <ng-template #neverLoggedIn>
                            <span class="text-gray-400">Never</span>
                        </ng-template>
                    </td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm space-x-1">
                        <button (click)="viewAccount(account.id)" class="inline-flex items-center justify-center rounded px-2 py-1 font-medium transition bg-cyan-600 text-white hover:bg-cyan-700 text-xs">
                            <i class="fas fa-eye mr-1"></i> View
                        </button>
                        <a routerLink="edit/{{account.id}}" class="inline-flex items-center justify-center rounded px-2 py-1 font-medium transition bg-indigo-600 text-white hover:bg-indigo-700 text-xs">
                            <i class="fas fa-edit mr-1"></i> Edit
                        </a>
                        <button (click)="deleteAccount(account.id)" class="inline-flex items-center justify-center rounded px-2 py-1 font-medium transition bg-red-600 text-white hover:bg-red-700 text-xs" [disabled]="account.isDeleting">
                            <span *ngIf="account.isDeleting" class="inline-block w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"></span>
                            <i *ngIf="!account.isDeleting" class="fas fa-trash mr-1"></i>
                            <span *ngIf="!account.isDeleting">Delete</span>
                        </button>
                    </td>
                </tr>
                <tr *ngIf="!accounts">
                    <td colspan="6" class="px-4 py-8 text-center">
                        <div class="inline-block w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"></div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>